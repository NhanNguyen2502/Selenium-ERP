package erp.testcases;import com.google.errorprone.annotations.Var;import erp.base.BaseSetup;import erp.base.ReportListener;import erp.base.TestListener;import erp.common.helpers.ExcelHelper;import erp.common.helpers.PropertiesHelper;import erp.common.helpers.TranslationHelpers;import erp.common.helpers.ValidateHelpers;import erp.pages.SignInPage;import io.qameta.allure.*;import org.openqa.selenium.WebDriver;import org.testng.Assert;import org.testng.ITestListener;import org.testng.ITestResult;import org.testng.annotations.*;@Epic("Sign In flow")@Feature("Login form")@Owner("Nhan Nguyen")@Listeners(ReportListener.class)public class SignInTest extends BaseSetup {    private WebDriver driver;    public SignInPage signInPage;    public ExcelHelper excelHelper;    public ValidateHelpers validateHelpers;    @BeforeClass    public void setUp() {        this.driver = getDriver();        excelHelper = new ExcelHelper();        validateHelpers = new ValidateHelpers(driver);        PropertiesHelper.loadAllFile();        //driver.manage().deleteAllCookies();        signInPage = new SignInPage(driver);    }//    @BeforeMethod//    public void beforemethod() {//        driver.navigate().refresh();//        signInPage.verifylanguage(PropertiesHelper.getValue("language"));//    }    @Story("User enters empty username")    @Test(priority = 1)    @Severity(SeverityLevel.CRITICAL)    public void signInWithEmailNull() throws Exception {        //driver.navigate().refresh();        validateHelpers.waitForLoadJs();        signInPage.verifylanguage(PropertiesHelper.getLanguageToTest());        String error = signInPage.verifyEmailnull();        Assert.assertEquals(error, TranslationHelpers.setFile(PropertiesHelper.getLanguageToTest(),                "$.auth.common.errorMessage.emailRequired"));    }    @Story("User enters empty password")    @Test(priority = 1)    @Severity(SeverityLevel.CRITICAL)    public void sigInWithPasswordNull() throws Exception {        //driver.navigate().refresh();        validateHelpers.waitForLoadJs();        signInPage.verifylanguage(PropertiesHelper.getLanguageToTest());        validateHelpers.waitForLoadJs();        String error = signInPage.verifyPasswordNUll();        Assert.assertEquals(error, TranslationHelpers.setFile(PropertiesHelper.getLanguageToTest(),                "$.auth.common.errorMessage.passwordRequired"));    }    @Story("User enters wrong username")    @Test(priority = 2)    @Severity(SeverityLevel.MINOR)    public void siginWrongPassOrEmail() throws Exception {        validateHelpers.waitForLoadJs();        signInPage.verifylanguage(PropertiesHelper.getLanguageToTest());        String error;        error = signInPage.verifyWrongEmailOrPassword("asdasd@yopmail.com", "Password1234");        Assert.assertEquals(error, TranslationHelpers.setFile(PropertiesHelper.getLanguageToTest(),                "$.errorFromServer.usernameOrPasswordIncorrect"));        driver.navigate().refresh();        error = signInPage.verifyWrongEmailOrPassword("testdeferp@yopmail.com", "Password12345");        Assert.assertEquals(error, TranslationHelpers.setFile(PropertiesHelper.getLanguageToTest(),                "$.errorFromServer.usernameOrPasswordIncorrect"));    }    @Story("User enters correct information")    @Test(priority = 2)    @Severity(SeverityLevel.MINOR)    public void signInTest() throws Exception {        signInPage.waitForPageLoaded();        //excelHelper.setExcelFile("src/test/java/resources/Book1.xlsx", "Sheet1");        Assert.assertTrue(signInPage.verifyLogo(), "Not displayed");        //   Assert.assertTrue(signInPage.verifyTitle(TranslationHelpers.setFile(PropertiesHelper.getValue("language"),"$.auth.signInPage.text.welcomeHeader")), "Not same");        Assert.assertTrue(signInPage.verifyUsernameTextBox(), "Not displayed");        Assert.assertTrue(signInPage.verifyPasswordTextBox(), "Not displayed");        signInPage.login(PropertiesHelper.getValue("email"), PropertiesHelper.getValue("password"));    }    @Story("User login with account inactive")    @Test(priority = 4)    @Severity(SeverityLevel.TRIVIAL)    public void signInWithInactiveAccount() {        validateHelpers.waitForLoadJs();        signInPage.verifylanguage(PropertiesHelper.getLanguageToTest());        signInPage.verifyAccountInactive(                PropertiesHelper.getValue("inactiveEmail")                , PropertiesHelper.getValue("password1")                , TranslationHelpers.setFile(PropertiesHelper.getLanguageToTest(), "$.auth.emailVerification.text")                , TranslationHelpers.setFile(PropertiesHelper.getLanguageToTest(), "$.auth.emailVerification.warningText")                , TranslationHelpers.setFile(PropertiesHelper.getLanguageToTest(), "auth.emailVerification.explainText"));    }}